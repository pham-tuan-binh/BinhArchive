<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>"365 Days" Photo Album | Binh's Archive</title><meta name=keywords content="Svelte,Photography"><meta name=description content="Online Photo Exhibition"><meta name=author content="Binh Pham"><link rel=canonical href=https://binhph.am/posts/365days/><link crossorigin=anonymous href=/assets/css/stylesheet.min.f2e4f1912ea66bdc56372b77de02cbfe59a105332ea5958299fb43b8bd3469df.css integrity="sha256-8uTxkS6ma9xWNyt33gLL/lmhBTMupZWCmftDuL00ad8=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://binhph.am/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://binhph.am/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://binhph.am/favicon-32x32.png><link rel=apple-touch-icon href=https://binhph.am/apple-touch-icon.png><link rel=mask-icon href=https://binhph.am/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://binhph.am/posts/365days/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="&#34;365 Days&#34; Photo Album"><meta property="og:description" content="Online Photo Exhibition"><meta property="og:type" content="article"><meta property="og:url" content="https://binhph.am/posts/365days/"><meta property="og:image" content="https://binhph.am/posts/365days/posts/365days/images/365days-banner.jpeg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-09-25T00:00:00+00:00"><meta property="article:modified_time" content="2022-09-25T00:00:00+00:00"><meta property="og:site_name" content="Binh's Archive"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://binhph.am/posts/365days/posts/365days/images/365days-banner.jpeg"><meta name=twitter:title content="&#34;365 Days&#34; Photo Album"><meta name=twitter:description content="Online Photo Exhibition"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://binhph.am/posts/"},{"@type":"ListItem","position":3,"name":"\"365 Days\" Photo Album","item":"https://binhph.am/posts/365days/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"\"365 Days\" Photo Album","name":"\u0022365 Days\u0022 Photo Album","description":"Online Photo Exhibition","keywords":["Svelte","Photography"],"articleBody":"What is ‚Äú365 Days‚Äù? If you are a old follower of mine, you will know that, apart from a developer, I‚Äôm also a photographer.\nBut for a long time, I have stopped posting photos to focus on my beloved projects in IoT.\nTherefore, to unleash all the photos I‚Äôve taken over the last three years and in the upcoming period, I‚Äôve created a photo album called ‚Äú365 Days‚Äù.\nWhat is it and what is special about it? In the beginning of this project, ‚Äú365 Days‚Äù was simply a photo album on Instagram, where I would post a photo every day.\nHowever, as the artist behind this album is also a developer, he said to him self: ‚ÄúWhy not make this into a fun and cool coding project‚Äù. And then ‚Äú365 Days‚Äù Photo Album was born.\nSo what is it? You might ask.\n‚Äú365 Days‚Äù is an online experience, where you will discover the artistic works of Binh Pham in a carousel.\nThere will be a new photo uploaded everyday and each day is a different story, a different location, a different person.\nSome day will just have a title, some will have an entire story for you to discover.\nAll of this is hosted on a sub page of Binh‚Äôs Archive.\nWhere can I see ‚Äú365 Days‚Äù? Social platforms of \"365 Days\"Instagram (Left) and Web Exhibition (Right) Presently, you can check ‚Äú365 Days‚Äù on 2 platforms: Instagram and Web Exhibition.\nI reccomend taking a look at the Instagram page before heading on to the Web Exhibition. You can find how to use the website there, as well as how to find an easter egg on the website.\nOnline ExhibitionOnly available on phones and small tablets. How to make a website like ‚Äú365 Days‚Äù? If you are a developer already, you can check the Github for this project. If you are not, I‚Äôll explain what you will need to learn before understanding the source code of ‚Äú365 Days‚Äù.\nAnd remember, I will only show you the keywords and a few core components, not the whole explaination. The components Behind every project, there is some thing called a tech stack. Basically, there will be a database, a frontend, a backend along with APIs framework.\nIn this project, I used a tech stack called SINE:\nThe Frontend: Svelte The Backend: NodeJS The API: ExpressJS The Database: Instagram The files structure To understand the inner workings of ‚Äú365 Days‚Äù, you will first need to know more about the files structure of the source code.\n365days: |- docs: Static files for web page |- src: Svelte source |- server: NodeJS and ExpressJS functions Server-side Code The Server has a function for retreiving photos from Instagram using their GraphQL API. Here is its implementation.\nconst axios = require(\"axios\").default; // Axios is a library for making REST APIs call. const fields = \"permalink,media_type,media_url, caption, children{media_url}\"; // The Instagram API Structure const access_token = \"\"; // Make a request for a user with a given ID exports.instaFetch = async function (after = \"\", limit = 20) { return await axios .get( `https://graph.instagram.com/me/media?fields=${fields}\u0026access_token=${access_token}\u0026after=${after}\u0026limit=${limit}` ) .then(function (response) { // handle success return response.data; }) .catch(function (error) { // handle error console.log(error); }); }; As you can see, per user request, the server has to make a request to Instagram. If we keep this approach, the average time for a request is 1 second. Therefore, I implemented a caching middleware using a Key-Value storage.\nconst mcache = require(\"memory-cache\"); // Memory Cache is a Key-Value Storage // ExpressJS Middleware exports.instaHandle = async function (req, res) { const cacheDuration = 43200; try { let key = \"exp-\" + req.url; let cachedData = mcache.get(key); if (cachedData) { return res.status(200).json(cachedData); } else { let data = await instaFetch(req.query.after, req.query.limit); mcache.put(key, data, cacheDuration * 1000); return res.status(200).json(data); } } catch { return res.status(500).json({ error: \"Something went wrong.\" }); } }; The refresh time of these values are 12 hours, so users are almost always receiving the newest pictures. Using this caching approach, I reduced the average request time to 200 Milliseconds, an 80% deduction.\nThen it is served using ExpressJS\nconst express = require(\"express\"); const { instaHandle } = require(\"./instaHandler\"); const cors = require(\"cors\"); const app = express(); app.use(cors()); app.use(function (err, req, res, next) { if (!err) return next(); return res.status(500).json({ error: \"Something wrong happened\" }); }); app.get(\"/feed\", instaHandle); Facebook Developers Platform If you truly understand the above section, one question will pop: What is the access token and how to get it?.\nTo get this access token, you need to get on the Meta for Developers and get yourself an account as well as a project. Through this, you can generate a token to use their GraphQL API.\nFrontend Code On the frontend, everything is stored using only one page. As the components mounts or the website renders, the website will call the aboved API using the below functions.\nasync function fetchInstagramFeed() { let url = `https://the365days.herokuapp.com/feed`; if (picturesPaging) { url = url + '?after=' + picturesPaging.cursors.after; } const res = await fetch(url); let picturesData = await res.json(); pictures = picturesPaging ? pictures.concat(picturesData.data) : picturesData.data; picturesPaging = picturesData.paging; pictures = pictures.map((ele, index) =\u003e { ele.index = index; return ele; }); console.log(pictures); } onMount(async () =\u003e { await fetchInstagramFeed(); const medRes = await fetch(`https://the365days.herokuapp.com/user`); mediaCount = await medRes.json(); mediaCount = mediaCount.media_count; console.log(mediaCount); console.log(pictures); }); And to implement the left-click/right-click and easter egg for the website, I used a counter.\nAlso, the pictures are lazy-loaded, that means the website only get 20 pictures per request, so there is also a function to check if the website has loaded all pictures.\nfunction hasLoadedAllPictures() { return pictures.length == mediaCount; } async function leftClickHandle() { if (currentState === 2) { if (currentPicture === 0) { currentState--; } else { currentPicture--; } return; } if (currentState === 0) { specialCounter++; if (specialCounter === 5) { currentState = -1; randomPicture = Math.floor(Math.random() * (pictures.length - 1)); await fetchRandomQuotes(); return; } return; } if (currentState === -1) { return; } currentState--; } async function rightClickHandle() { if (currentState === 2) { if (!hasLoadedAllPictures()) { if (currentPicture \u003e= pictures.length - 2) { await fetchInstagramFeed(); } } else { if (currentPicture === pictures.length - 1) { currentState++; return; } } currentPicture++; } else if (currentState === 3) { currentState = 0; currentPicture = 0; } else if (currentState === -1) { specialCounter = 0; currentState = 0; } else { currentState++; } } The rest is in the JSX or whatever equivalent of Svelt in the source code.\nEndnote If you have any questions regarding this prohject, please contact me at binhpham@binhph.am\nA funny thing about this project is that the total time I used to make it was 2 days: 6 hours for the coding and the rest for media and design‚Ä¶ and I was drunk while I did it =))\nSo I guess I have to pay my gratitude to Nikka Whisky for this project.\nAside from the joke, please don‚Äôt drink while you‚Äôre working.\n","wordCount":"1162","inLanguage":"en","image":"https://binhph.am/posts/365days/posts/365days/images/365days-banner.jpeg","datePublished":"2022-09-25T00:00:00Z","dateModified":"2022-09-25T00:00:00Z","author":{"@type":"Person","name":"Binh Pham"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://binhph.am/posts/365days/"},"publisher":{"@type":"Organization","name":"Binh's Archive","logo":{"@type":"ImageObject","url":"https://binhph.am/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://binhph.am accesskey=h title="Binh's Archive (Alt + H)">Binh's Archive</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<span id=sun>üåï</span>
<span id=to-moon-1>üåë</span>
<span id=to-moon-2>üåò</span>
<span id=to-moon-3>üåó</span>
<span id=to-moon-4>üåñ</span>
<span id=moon>üåô</span>
<span id=to-sun-1>üåñ</span>
<span id=to-sun-2>üåó</span>
<span id=to-sun-3>üåò</span>
<span id=to-sun-4>üåë</span></button><ul class=lang-switch><li>|</li><li><a href=https://binhph.am/vi/ title=Vietnamese aria-label=:vi:>Vi</a></li></ul></span></div><ul id=menu><li><a href=https://binhph.am/about/ title=About><span>About</span></a></li><li><a href=https://binhph.am/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://binhph.am/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://binhph.am/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>"365 Days" Photo Album</h1><div class=post-description>Online Photo Exhibition</div><div class=post-meta><span title='2022-09-25 00:00:00 +0000 UTC'>September 25, 2022</span>&nbsp;¬∑&nbsp;6 min&nbsp;¬∑&nbsp;Binh Pham</div></header><figure class=entry-cover><a href=https://binhph.am/posts/365days/images/365days-banner.jpeg target=_blank rel="noopener noreferrer"><img loading=lazy src=https://binhph.am/posts/365days/images/365days-banner.jpeg alt="365 Days"></a></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#what-is-365-days aria-label="What is &amp;ldquo;365 Days&amp;rdquo;?">What is &ldquo;365 Days&rdquo;?</a></li><li><a href=#what-is-it-and-what-is-special-about-it aria-label="What is it and what is special about it?">What is it and what is special about it?</a></li><li><a href=#where-can-i-see-365-days aria-label="Where can I see &amp;ldquo;365 Days&amp;rdquo;?">Where can I see &ldquo;365 Days&rdquo;?</a></li><li><a href=#how-to-make-a-website-like-365-days aria-label="How to make a website like &amp;ldquo;365 Days&amp;rdquo;?">How to make a website like &ldquo;365 Days&rdquo;?</a><ul><li><a href=#the-components aria-label="The components">The components</a></li><li><a href=#the-files-structure aria-label="The files structure">The files structure</a></li><li><a href=#server-side-code aria-label="Server-side Code">Server-side Code</a></li><li><a href=#facebook-developers-platform aria-label="Facebook Developers Platform">Facebook Developers Platform</a></li><li><a href=#frontend-code aria-label="Frontend Code">Frontend Code</a></li></ul></li><li><a href=#endnote aria-label=Endnote>Endnote</a></li></ul></div></details></div><div class=post-content><h1 id=what-is-365-days>What is &ldquo;365 Days&rdquo;?<a hidden class=anchor aria-hidden=true href=#what-is-365-days>#</a></h1><p>If you are a old follower of mine, you will know that, apart from a developer, I&rsquo;m also a photographer.</p><figure><img loading=lazy src=/posts/365days/images/photographer.PNG></figure><p>But for a long time, I have stopped posting photos to focus on my beloved projects in IoT.</p><p>Therefore, to unleash all the photos I&rsquo;ve taken over the last three years and in the upcoming period, I&rsquo;ve created a photo album called <strong>&ldquo;365 Days&rdquo;</strong>.</p><figure><img loading=lazy src=/posts/365days/images/365days-banner.jpeg></figure><h1 id=what-is-it-and-what-is-special-about-it>What is it and what is special about it?<a hidden class=anchor aria-hidden=true href=#what-is-it-and-what-is-special-about-it>#</a></h1><p>In the beginning of this project, <strong>‚Äú365 Days‚Äù</strong> was simply a photo album on <a href=https://www.instagram.com/365d_album/>Instagram</a>, where I would post a photo every day.</p><figure><img loading=lazy src=/posts/365days/images/instagram.PNG></figure><p>However, as the artist behind this album is also a developer, he said to him self: <strong>‚ÄúWhy not make this into a fun and cool coding project‚Äù</strong>. And then <strong>‚Äú365 Days‚Äù</strong> Photo Album was born.</p><p>So what is it? You might ask.</p><blockquote><p><strong>‚Äú365 Days‚Äù</strong> is an online experience, where you will discover the artistic works of <strong>Binh Pham</strong> in a carousel.</p></blockquote><blockquote><p>There will be a new photo uploaded everyday and each day is a different story, a different location, a different person.</p></blockquote><blockquote><p>Some day will just have a title, some will have an entire story for you to discover.</p></blockquote><p>All of this is hosted on <a href=https://365days.binhph.am/>a sub page of Binh‚Äôs Archive</a>.</p><h1 id=where-can-i-see-365-days>Where can I see &ldquo;365 Days&rdquo;?<a hidden class=anchor aria-hidden=true href=#where-can-i-see-365-days>#</a></h1><figure><img loading=lazy src=/posts/365days/images/platforms.PNG alt="Instagram (Left) and Web Exhibition (Right)"><figcaption>Social platforms of "365 Days"<p>Instagram (Left) and Web Exhibition (Right)</p></figcaption></figure><p>Presently, you can check <strong>&ldquo;365 Days&rdquo;</strong> on <strong>2</strong> platforms: <a href=https://www.instagram.com/365d_album/>Instagram</a> and <a href=https://365days.binhph.am/>Web Exhibition</a>.</p><p>I reccomend taking a look at the Instagram page before heading on to the Web Exhibition. You can find how to use the website there, as well as how to find an <strong>easter egg</strong> on the website.</p><figure><img loading=lazy src=/posts/365days/images/website.PNG alt="Only available on phones and small tablets."><figcaption>Online Exhibition<p>Only available on phones and small tablets.</p></figcaption></figure><h1 id=how-to-make-a-website-like-365-days>How to make a website like &ldquo;365 Days&rdquo;?<a hidden class=anchor aria-hidden=true href=#how-to-make-a-website-like-365-days>#</a></h1><p>If you are a developer already, you can check the <a href=https://github.com/pham-tuan-binh/365days>Github for this project</a>.
<a href=https://github.com/pham-tuan-binh/365days><img loading=lazy src=images/github.png alt=Github></a>
If you are not, I&rsquo;ll explain what you will need to learn before understanding the source code of <strong>&ldquo;365 Days&rdquo;</strong>.</p><p>And remember, I will only show you the keywords and a few core components, not the whole explaination.
<img loading=lazy src=https://memegenerator.net/img/instances/59570640.jpg#center alt=Meme></p><h2 id=the-components>The components<a hidden class=anchor aria-hidden=true href=#the-components>#</a></h2><p>Behind every project, there is some thing called a <a href=https://heap.io/topics/what-is-a-tech-stack>tech stack</a>. Basically, there will be a database, a frontend, a backend along with APIs framework.</p><p>In this project, I used a tech stack called <strong>SINE</strong>:</p><ul><li>The Frontend: <a href=https://svelte.dev/>Svelte</a></li><li>The Backend: <a href=https://nodejs.org/en/>NodeJS</a></li><li>The API: <a href=https://expressjs.com/>ExpressJS</a></li><li>The Database: <a href=https://developers.facebook.com/docs/instagram/>Instagram</a></li></ul><h2 id=the-files-structure>The files structure<a hidden class=anchor aria-hidden=true href=#the-files-structure>#</a></h2><p>To understand the inner workings of <strong>&ldquo;365 Days&rdquo;</strong>, you will first need to know more about the files structure of the <a href=https://github.com/pham-tuan-binh/365days>source code</a>.</p><pre tabindex=0><code>365days:
    |- docs: Static files for web page
    |- src: Svelte source
    |- server: NodeJS and ExpressJS functions
</code></pre><h2 id=server-side-code>Server-side Code<a hidden class=anchor aria-hidden=true href=#server-side-code>#</a></h2><p><strong>The Server</strong> has a function for retreiving photos from Instagram using their GraphQL API. Here is its implementation.</p><pre tabindex=0><code>const axios = require(&#34;axios&#34;).default; // Axios is a library for making REST APIs call.

const fields = &#34;permalink,media_type,media_url, caption, children{media_url}&#34;; // The Instagram API Structure
const access_token =
  &#34;&#34;;

// Make a request for a user with a given ID
exports.instaFetch = async function (after = &#34;&#34;, limit = 20) {
  return await axios
    .get(
      `https://graph.instagram.com/me/media?fields=${fields}&amp;access_token=${access_token}&amp;after=${after}&amp;limit=${limit}`
    )
    .then(function (response) {
      // handle success
      return response.data;
    })
    .catch(function (error) {
      // handle error
      console.log(error);
    });
};
</code></pre><p>As you can see, per user request, the server has to make a request to Instagram. If we keep this approach, the average time for a request is <strong>1 second</strong>. Therefore, I implemented a caching middleware using a Key-Value storage.</p><pre tabindex=0><code>const mcache = require(&#34;memory-cache&#34;); // Memory Cache is a Key-Value Storage

// ExpressJS Middleware
exports.instaHandle = async function (req, res) {
  const cacheDuration = 43200;
  try {
    let key = &#34;exp-&#34; + req.url;
    let cachedData = mcache.get(key);
    if (cachedData) {
      return res.status(200).json(cachedData);
    } else {
      let data = await instaFetch(req.query.after, req.query.limit);
      mcache.put(key, data, cacheDuration * 1000);
      return res.status(200).json(data);
    }
  } catch {
    return res.status(500).json({ error: &#34;Something went wrong.&#34; });
  }
};
</code></pre><p>The refresh time of these values are 12 hours, so users are almost always receiving the newest pictures. Using this caching approach, I reduced the average request time to <strong>200 Milliseconds</strong>, an 80% deduction.</p><p>Then it is served using <strong>ExpressJS</strong></p><pre tabindex=0><code>const express = require(&#34;express&#34;);

const { instaHandle } = require(&#34;./instaHandler&#34;);

const cors = require(&#34;cors&#34;);

const app = express();

app.use(cors());

app.use(function (err, req, res, next) {
  if (!err) return next();
  return res.status(500).json({ error: &#34;Something wrong happened&#34; });
});

app.get(&#34;/feed&#34;, instaHandle);
</code></pre><h2 id=facebook-developers-platform>Facebook Developers Platform<a hidden class=anchor aria-hidden=true href=#facebook-developers-platform>#</a></h2><p>If you truly understand the above section, one question will pop: <strong>What is the access token and how to get it?</strong>.</p><p>To get this access token, you need to get on the <a href=https://developers.facebook.com/docs/instagram/>Meta for Developers</a> and get yourself an account as well as a project. Through this, you can generate a token to use their GraphQL API.</p><figure><img loading=lazy src=/posts/365days/images/meta.PNG></figure><h2 id=frontend-code>Frontend Code<a hidden class=anchor aria-hidden=true href=#frontend-code>#</a></h2><p>On <strong>the frontend</strong>, everything is stored using only one page. As the components mounts or the website renders, the website will call the aboved API using the below functions.</p><pre tabindex=0><code>async function fetchInstagramFeed() {
		let url = `https://the365days.herokuapp.com/feed`;
		if (picturesPaging) {
			url = url + &#39;?after=&#39; + picturesPaging.cursors.after;
		}
		const res = await fetch(url);
		let picturesData = await res.json();
		pictures = picturesPaging ? pictures.concat(picturesData.data) : picturesData.data;
		picturesPaging = picturesData.paging;
		pictures = pictures.map((ele, index) =&gt; {
			ele.index = index;
			return ele;
		});
		console.log(pictures);
}

onMount(async () =&gt; {
		await fetchInstagramFeed();
		const medRes = await fetch(`https://the365days.herokuapp.com/user`);
		mediaCount = await medRes.json();
		mediaCount = mediaCount.media_count;
		console.log(mediaCount);
		console.log(pictures);
	});
</code></pre><p>And to implement the left-click/right-click and easter egg for the website, I used a counter.</p><p>Also, the pictures are lazy-loaded, that means the website only get 20 pictures per request, so there is also a function to check if the website has loaded all pictures.</p><pre tabindex=0><code>function hasLoadedAllPictures() {
		return pictures.length == mediaCount;
}

async function leftClickHandle() {
    if (currentState === 2) {
        if (currentPicture === 0) {
            currentState--;
        } else {
            currentPicture--;
        }
        return;
    }
    if (currentState === 0) {
        specialCounter++;
        if (specialCounter === 5) {
            currentState = -1;
            randomPicture = Math.floor(Math.random() * (pictures.length - 1));
            await fetchRandomQuotes();
            return;
        }

        return;
    }
    if (currentState === -1) {
        return;
    }
    currentState--;
}

async function rightClickHandle() {
    if (currentState === 2) {
        if (!hasLoadedAllPictures()) {
            if (currentPicture &gt;= pictures.length - 2) {
                await fetchInstagramFeed();
            }
        } else {
            if (currentPicture === pictures.length - 1) {
                currentState++;
                return;
            }
        }
        currentPicture++;
    } else if (currentState === 3) {
        currentState = 0;
        currentPicture = 0;
    } else if (currentState === -1) {
        specialCounter = 0;
        currentState = 0;
    } else {
        currentState++;
    }
}
</code></pre><p>The rest is in the JSX or whatever equivalent of Svelt in the <a href=https://github.com/pham-tuan-binh/365days>source code</a>.</p><h1 id=endnote>Endnote<a hidden class=anchor aria-hidden=true href=#endnote>#</a></h1><p><img loading=lazy src=images/endnote.PNG alt=Goodbye></p><p>If you have any questions regarding this prohject, please contact me at <strong><a href=mailto:binhpham@binhph.am>binhpham@binhph.am</a></strong></p><p>A funny thing about this project is that the total time I used to make it was <strong>2 days</strong>: <strong>6 hours</strong> for the coding and <strong>the rest</strong> for media and design&mldr; and I was drunk while I did it =))</p><p>So I guess I have to pay my gratitude to Nikka Whisky for this project.</p><p>Aside from the joke, please don&rsquo;t drink while you&rsquo;re working.</p><h1>Thank you for reading</h1><div style="width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;border-radius:var(--radius);box-sizing:border-box;color:var(--primary)"><p>If you like this post and would like to see more in the future, I just created this <b>cool and neat newsletter</b> for my website.</p><p>Psst... I guarantee it's <b>low-latency and full of quality articles</b>, just like the article you just read.</p><p><a style="padding:0 14px;line-height:34px;margin:8px 0;display:inline-block;text-decoration:none;border:1px solid var(--border);border-radius:var(--radius);background-color:var(--code-bg);box-sizing:border-box;box-shadow:none;color:var(--primary)" target=_blank rel=noopener href=https://tinyletter.com/binhsarchive>Click here to subscribe üíå</a></p></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://binhph.am/tags/svelte/>Svelte</a></li><li><a href=https://binhph.am/tags/photography/>Photography</a></li></ul><nav class=paginav><a class=prev href=https://binhph.am/posts/legos/><span class=title>¬´ Prev Page</span><br><span>LEGO: Creative Coding</span></a>
<a class=next href=https://binhph.am/posts/memory-catalog/><span class=title>Next Page ¬ª</span><br><span>Memory Catalog: Store memories as Polaroid</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label='share "365 Days" Photo Album on twitter' href="https://twitter.com/intent/tweet/?text=%22365%20Days%22%20Photo%20Album&url=https%3a%2f%2fbinhph.am%2fposts%2f365days%2f&hashtags=Svelte%2cPhotography"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label='share "365 Days" Photo Album on linkedin' href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fbinhph.am%2fposts%2f365days%2f&title=%22365%20Days%22%20Photo%20Album&summary=%22365%20Days%22%20Photo%20Album&source=https%3a%2f%2fbinhph.am%2fposts%2f365days%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label='share "365 Days" Photo Album on reddit' href="https://reddit.com/submit?url=https%3a%2f%2fbinhph.am%2fposts%2f365days%2f&title=%22365%20Days%22%20Photo%20Album"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label='share "365 Days" Photo Album on facebook' href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fbinhph.am%2fposts%2f365days%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label='share "365 Days" Photo Album on whatsapp' href="https://api.whatsapp.com/send?text=%22365%20Days%22%20Photo%20Album%20-%20https%3a%2f%2fbinhph.am%2fposts%2f365days%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label='share "365 Days" Photo Album on telegram' href="https://telegram.me/share/url?text=%22365%20Days%22%20Photo%20Album&url=https%3a%2f%2fbinhph.am%2fposts%2f365days%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><img src=/vaselogo.png width=75px style=margin:auto>
<span>&copy; 2023 <a href=https://binhph.am>Binh's Archive</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>let sun=document.getElementById("sun"),to_moon_1=document.getElementById("to-moon-1"),to_moon_2=document.getElementById("to-moon-2"),to_moon_3=document.getElementById("to-moon-3"),to_moon_4=document.getElementById("to-moon-4"),to_sun_1=document.getElementById("to-sun-1"),to_sun_2=document.getElementById("to-sun-2"),to_sun_3=document.getElementById("to-sun-3"),to_sun_4=document.getElementById("to-sun-4"),moon=document.getElementById("moon"),intervalTime=90;to_moon_1.style.display="none",to_moon_2.style.display="none",to_moon_3.style.display="none",to_moon_4.style.display="none",to_sun_1.style.display="none",to_sun_2.style.display="none",to_sun_3.style.display="none",to_sun_4.style.display="none",document.body.className.includes("dark")?sun.style.display="none":moon.style.display="none";function toggleHidden(e){e.style.display==="none"?e.style.display="block":e.style.display="none"}document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),setTimeout(toggleHidden,intervalTime,moon),setTimeout(toggleHidden,intervalTime*2,to_moon_1),setTimeout(toggleHidden,intervalTime*3,to_moon_1),setTimeout(toggleHidden,intervalTime*3,to_moon_2),setTimeout(toggleHidden,intervalTime*4,to_moon_2),setTimeout(toggleHidden,intervalTime*4,to_moon_3),setTimeout(toggleHidden,intervalTime*5,to_moon_3),setTimeout(toggleHidden,intervalTime*5,to_moon_4),setTimeout(toggleHidden,intervalTime*6,to_moon_4),setTimeout(toggleHidden,intervalTime*6,sun),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),setTimeout(toggleHidden,45,sun),setTimeout(toggleHidden,intervalTime*2,to_sun_1),setTimeout(toggleHidden,intervalTime*3,to_sun_1),setTimeout(toggleHidden,intervalTime*3,to_sun_2),setTimeout(toggleHidden,intervalTime*4,to_sun_2),setTimeout(toggleHidden,intervalTime*4,to_sun_3),setTimeout(toggleHidden,intervalTime*5,to_sun_3),setTimeout(toggleHidden,intervalTime*5,to_sun_4),setTimeout(toggleHidden,intervalTime*6,to_sun_4),setTimeout(toggleHidden,intervalTime*6,moon),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script type=text/javascript src=/js/carousel.js></script>
<link rel=stylesheet href=/css/carousel.css></body></html>