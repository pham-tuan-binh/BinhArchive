<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>LEGO: Creative Coding | Binh's Archive</title><meta name=keywords content="Design,Creative Coding"><meta name=description content="Using Canvas-sketch to create digital art"><meta name=author content="Binh Pham"><link rel=canonical href=https://blog.binhph.am/posts/legos/><link crossorigin=anonymous href=/assets/css/stylesheet.min.f2e4f1912ea66bdc56372b77de02cbfe59a105332ea5958299fb43b8bd3469df.css integrity="sha256-8uTxkS6ma9xWNyt33gLL/lmhBTMupZWCmftDuL00ad8=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.binhph.am/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.binhph.am/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.binhph.am/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.binhph.am/apple-touch-icon.png><link rel=mask-icon href=https://blog.binhph.am/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="LEGO: Creative Coding"><meta property="og:description" content="Using Canvas-sketch to create digital art"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.binhph.am/posts/legos/"><meta property="og:image" content="https://blog.binhph.am/posts/legos/posts/legos/images/banner.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-09T00:00:00+00:00"><meta property="article:modified_time" content="2023-01-09T00:00:00+00:00"><meta property="og:site_name" content="Binh's Archive"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.binhph.am/posts/legos/posts/legos/images/banner.png"><meta name=twitter:title content="LEGO: Creative Coding"><meta name=twitter:description content="Using Canvas-sketch to create digital art"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://blog.binhph.am/posts/"},{"@type":"ListItem","position":3,"name":"LEGO: Creative Coding","item":"https://blog.binhph.am/posts/legos/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"LEGO: Creative Coding","name":"LEGO: Creative Coding","description":"Using Canvas-sketch to create digital art","keywords":["Design","Creative Coding"],"articleBody":"Sponsorship This project is done with the help of Bruno Imbriziâ€™s amazing course.\nIf you want to dive deeper into the world of creative coding, be sure to check out his courses on Domestika.\nIntroduction Creative Coding Examples Apart from being a developer, Iâ€™m also an graphic designer. The two fields donâ€™t make much sense together, but with the right combination, you can make something truly wonderful. And an esssence of such wonderfulness can be found in Creative Coding.\nToday, Iâ€™ll walk you through the process of making a work of art with Canvas-sketch, a Node.js library that utilizes HTML5 canvas to render artworks.\nBrief Idea Every project starts with an idea, and mine is inspired from various interpretation of Perlin Noise on the internet. Previously, Iâ€™ve followed Matt Rossâ€™s work on LEGO Instacing in Touch Designer. And Iâ€™m struck with the idea of implenting some what of his work on a website using simpler means.\nTowersBy Benjamin Rethore Lego Instancing in Touch DesignerBy Matt Ross Basic IdeaBy Pham Tuan Binh My idea is an illustration of a lego board, with every piece or stack of pieces represent their corresponding Perlin Noise coordinates and values. From the thumbnail of the article, you can somewhat imagine what our result will look like eventually.\nLEGOBy Pham Tuan Binh Core concepts My artwork is done with multiple tools. Some of which are more important than others, and Iâ€™ve gathered the core concepts for you to grasp in this section. I will not walkthough the boilerplates and installation of these dependencies in this article, so be sure to read every link carefully.\n1. HTML5 Canvas and Javascript The fundamental of my workflow is HTML5 canvas. It is a tool that helps you draw on websites, and you should be able to find various information of it on the internet. Here is a wonderful explaination from W3.\nTo deal with canvas, you need to use Javascript, a programming language. If you are used to programming before, grasping the concept of JS is simple. In this project, we only use basic Javascript: for loops, let/const variable.\n2. NodeJS and Canvas-sketch Normally, with HTML5 canvas, you would have to write a ton boiler-plate code and of course implement your own HTML, CSS and JS files. With Canvas-sketch, this process is easier and more streamlined. It is a wonderful tool made by Matt DesLauriers, a creative coder, and you can find more about it here.\nTo use Canvas-sketch, you will NodeJS, which helps you run JS without the need of a browser (in simple terms). You can find how to install it here.\n3. Perlin Noise Perlin noise is, you guess it right, random noise, but in a very special way. If you draw Perlin Noise on a 3D plane, adjacent values will be close to eachother, hence create a smooth feel to the terrain. This is the basics behine Minecraft terrain creation.\nThe Perlin noise in this project is used to generate more natural values for the heights and colors of LEGO pieces.\nExecution With every coding problem, the main workflow is to disect it into multiple smaller problems. Likewise, in art, before designing or drawing something, we also have to partition our work into multiple smaller tasks. The same applies in Creative Coding.\n1. Constants Before coding our project, we will set up the constants we use.\n// Canvas-sketch settings const settings = { dimensions: [2048, 2048], animate: true, fps: 20, timeScale: 0.8, }; // Color pallete, in luminance and saturation order const colors = [ \"#f1faee\", \"#a8dadc\", \"#457b9d\", \"#1d3557\", \"#fcbf49\", \"#f77f00\", \"#e63946\", ]; const brickHeight = 45; // Lego brick height const brickWidth = 90; // Lego brick width const maxHeight = colors.length; // Max height of a stack of Lego const freq = 0.09; // perlin noise frequency const matrixWidth = 12; // Matrix of Lego width const matrixHeight = 15; // Matrix of Lego height // Canvas Prep (Operations explained in \"Drawing a shape\") // This is to color the background and set the default params of canvas operations context.strokeStyle = \"black\"; context.lineWidth = 4; context.fillStyle = \"#f1faee\"; context.beginPath(); context.rect(0, 0, width, height); context.fill(); 2. Drawing a shape To draw our lego board and pieces, we will need to draw basic shapes, these include eclipses and rectangles. The process of drawing a simple shape can be described below.\n// Getting the canvas object // With traditional file let canvas = document.querySelector(\"canvas\"); let context = canvas.getContext(\"2d\"); // With Canvas-sketch const sketch = () =\u003e { return ({ context, width, height, time }) =\u003e { } }; canvasSketch(sketch, settings); // Drawing a shape context.strokeStyle = \"black\"; // stroke color context.lineWidth = 4; // stroke width context.fillStyle = \"#f1faee\"; // fill color // A rectangle with stroke context.beginPath(); // begin drawing context.rect(0, 0, width, height); // draw a rect path context.fill(); // fill that path context.stroke(); // draw a stroke along that path 3. Drawing an eclipse To make our code easier to read, we should write different functions for individual shapes. The one below is for eclipses. Remember that x,y is the center of the eclipse.\n// The fill color and stroke style should be sustained from previous setup function drawEclipse(context, x, y, radiusX, radiusY, rotation, curve) { context.beginPath(); context.ellipse(x, y, radiusX, radiusY, rotation, 0, curve * 2 * Math.PI); context.fill(); context.stroke(); } // We also need to have an eclipse without a stroke, this will be explained later function drawEclipseWithoutStroke(context, x, y, radiusX, radiusY, rotation, curve) { context.beginPath(); context.ellipse(x, y, radiusX, radiusY, rotation, 0, curve * 2 * Math.PI); context.fill(); } 4. Drawing a cylinder To draw a cylinder, we need 3 eclipses and a rectangle.\nfunction drawCylinder(context, x, y, w, h, offset) { // First, we draw the bottom eclipse drawEclipse(context, x, y, w / 2, offset, 0, 0.5); // Then we draw the overlay rectangle on top context.rect(x - w / 2, y - h, w, h); context.fill(); context.stroke(); // Then we draw an eclipse to hide the stroke of that rectangle drawEclipseWithoutStroke( context, x, y, w / 2 - context.lineWidth / 2, offset - context.lineWidth / 2, 0, 1 ); // Then we draw the top eclipse drawEclipse(context, x, y - h, w / 2, offset, 0, 1); } 5. Drawing a LEGO piece To draw a LEGO piece, we need 2 cylinder.\nfunction drawLego(context, x, y, w, h) { // The big one drawCylinder(context, x, y, w, h, h / 2); // The small one, or the snap part // The sizes are calculated through the process of randomizing values :)) drawCylinder(context, x, y - h, w / 2, h / 3, h / 4); } 6. Drawing a stack of LEGO pieces To draw a stack of LEGO pieces, we only need to offset the next lego piece by the height of the previous one.\nfunction drawStackOfLego(context, x, y, w, h, num) { for (let i = 0; i \u003c num; i++) { // Select color in pallete context.fillStyle = colors[i]; // Draw lego in that color drawLego(context, x, y - h * i, w, h); } } 7. Drawing an array of LEGO stacks To draw an array of lego stacks, we need to have nested loops and offset the coordinates of our path according to the values of the loops.\n// Perlin noise lib const random = require(\"canvas-sketch-util/random\"); for (let i = 1; i \u003c matrixHeight; i++) { for (let j = 1; j \u003c matrixWidth; j++) { // Like a lego board, we need to have spokes on every placement of the board drawCylinder( context, (width / matrixWidth) * j, brickHeight + (height / matrixHeight) * i, brickWidth / 2, brickHeight / 3, brickHeight / 4 ); } } for (let i = 1; i \u003c matrixHeight; i++) { for (let j = 1; j \u003c matrixWidth; j++) { // This is where we draw the stacks of lego // Val is the perlin noise value (0,1) let val = random.noise3D(j, i, time, freq); // For the stack num, we interpolate val range to maxHeight range // Other params are constants which we have already set drawStackOfLego( context, (width / matrixWidth) * j, brickHeight + (height / matrixHeight) * i, brickWidth, brickHeight, Math.ceil(val * maxHeight) ); } } Demonstration You can run the artwork on your own browser on this website.\nThe sketch code can be found below:\nconst canvasSketch = require(\"canvas-sketch\"); const random = require(\"canvas-sketch-util/random\"); const math = require(\"canvas-sketch-util/math\"); const settings = { dimensions: [2048, 2048], animate: true, fps: 20, timeScale: 0.8, }; const colors = [ \"#f1faee\", \"#a8dadc\", \"#457b9d\", \"#1d3557\", \"#fcbf49\", \"#f77f00\", \"#e63946\", ]; function drawEclipse(context, x, y, radiusX, radiusY, rotation, curve) { context.beginPath(); context.ellipse(x, y, radiusX, radiusY, rotation, 0, curve * 2 * Math.PI); context.fill(); context.stroke(); } function drawEclipseWithoutStroke( context, x, y, radiusX, radiusY, rotation, curve ) { context.beginPath(); context.ellipse(x, y, radiusX, radiusY, rotation, 0, curve * 2 * Math.PI); context.fill(); } function drawCylinder(context, x, y, w, h, offset) { drawEclipse(context, x, y, w / 2, offset, 0, 0.5); context.rect(x - w / 2, y - h, w, h); context.fill(); context.stroke(); drawEclipseWithoutStroke( context, x, y, w / 2 - context.lineWidth / 2, offset - context.lineWidth / 2, 0, 1 ); drawEclipse(context, x, y - h, w / 2, offset, 0, 1); } function drawLego(context, x, y, w, h) { drawCylinder(context, x, y, w, h, h / 2); drawCylinder(context, x, y - h, w / 2, h / 3, h / 4); } function drawStackOfLego(context, x, y, w, h, num) { for (let i = 0; i \u003c num; i++) { context.fillStyle = colors[i]; drawLego(context, x, y - h * i, w, h); } } const sketch = () =\u003e { return ({ context, width, height, time }) =\u003e { const brickHeight = 45; const brickWidth = 90; const maxHeight = colors.length; const freq = 0.09; const matrixWidth = 12; const matrixHeight = 15; context.strokeStyle = \"black\"; context.lineWidth = 4; context.fillStyle = \"#f1faee\"; context.beginPath(); context.rect(0, 0, width, height); context.fill(); for (let i = 1; i \u003c matrixHeight; i++) { for (let j = 1; j \u003c matrixWidth; j++) { drawCylinder( context, (width / matrixWidth) * j, brickHeight + (height / matrixHeight) * i, brickWidth / 2, brickHeight / 3, brickHeight / 4 ); } } for (let i = 1; i \u003c matrixHeight; i++) { for (let j = 1; j \u003c matrixWidth; j++) { let val = random.noise3D(j, i, time, freq); drawStackOfLego( context, (width / matrixWidth) * j, brickHeight + (height / matrixHeight) * i, brickWidth, brickHeight, Math.ceil(val * maxHeight) ); } } }; }; canvasSketch(sketch, settings); Endnote Creative Coding is an amazing field, if you are a graphic designer and you have the time, be sure to check out the wonders of it.\nFor creative coders and learners, feel free to modify my artwork. With minor modifications, you can create totally different variations of it.\nThank you for reading Binhâ€™s Archive.\n","wordCount":"1809","inLanguage":"en","image":"https://blog.binhph.am/posts/legos/posts/legos/images/banner.png","datePublished":"2023-01-09T00:00:00Z","dateModified":"2023-01-09T00:00:00Z","author":{"@type":"Person","name":"Binh Pham"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.binhph.am/posts/legos/"},"publisher":{"@type":"Organization","name":"Binh's Archive","logo":{"@type":"ImageObject","url":"https://blog.binhph.am/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.binhph.am accesskey=h title="Binh's Archive (Alt + H)">Binh's Archive</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<span id=sun>ðŸŒ•</span>
<span id=to-moon-1>ðŸŒ‘</span>
<span id=to-moon-2>ðŸŒ˜</span>
<span id=to-moon-3>ðŸŒ—</span>
<span id=to-moon-4>ðŸŒ–</span>
<span id=moon>ðŸŒ™</span>
<span id=to-sun-1>ðŸŒ–</span>
<span id=to-sun-2>ðŸŒ—</span>
<span id=to-sun-3>ðŸŒ˜</span>
<span id=to-sun-4>ðŸŒ‘</span></button></span></div><ul id=menu><li><a href=https://blog.binhph.am/about/ title=About><span>About</span></a></li><li><a href=https://blog.binhph.am/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://blog.binhph.am/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://blog.binhph.am/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://binhph.am/ title=Portfolio><span>Portfolio</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>LEGO: Creative Coding</h1><div class=post-description>Using Canvas-sketch to create digital art</div><div class=post-meta><span title='2023-01-09 00:00:00 +0000 UTC'>January 9, 2023</span>&nbsp;Â·&nbsp;9 min&nbsp;Â·&nbsp;Binh Pham</div></header><figure class=entry-cover><a href=https://blog.binhph.am/posts/legos/images/banner.png target=_blank rel="noopener noreferrer"><img loading=lazy src=https://blog.binhph.am/posts/legos/images/banner.png alt=Lego></a></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#sponsorship aria-label=Sponsorship>Sponsorship</a></li><li><a href=#introduction aria-label=Introduction>Introduction</a></li><li><a href=#brief-idea aria-label="Brief Idea">Brief Idea</a></li><li><a href=#core-concepts aria-label="Core concepts">Core concepts</a><ul><li><a href=#1-html5-canvas-and-javascript aria-label="1. HTML5 Canvas and Javascript">1. HTML5 Canvas and Javascript</a></li><li><a href=#2-nodejs-and-canvas-sketch aria-label="2. NodeJS and Canvas-sketch">2. NodeJS and Canvas-sketch</a></li><li><a href=#3-perlin-noise aria-label="3. Perlin Noise">3. Perlin Noise</a></li></ul></li><li><a href=#execution aria-label=Execution>Execution</a><ul><li><a href=#1-constants aria-label="1. Constants">1. Constants</a></li><li><a href=#2-drawing-a-shape aria-label="2. Drawing a shape">2. Drawing a shape</a></li><li><a href=#3-drawing-an-eclipse aria-label="3. Drawing an eclipse">3. Drawing an eclipse</a></li><li><a href=#4-drawing-a-cylinder aria-label="4. Drawing a cylinder">4. Drawing a cylinder</a></li><li><a href=#5-drawing-a-lego-piece aria-label="5. Drawing a LEGO piece">5. Drawing a LEGO piece</a></li><li><a href=#6-drawing-a-stack-of-lego-pieces aria-label="6. Drawing a stack of LEGO pieces">6. Drawing a stack of LEGO pieces</a></li><li><a href=#7-drawing-an-array-of-lego-stacks aria-label="7. Drawing an array of LEGO stacks">7. Drawing an array of LEGO stacks</a></li></ul></li><li><a href=#demonstration aria-label=Demonstration>Demonstration</a></li><li><a href=#endnote aria-label=Endnote>Endnote</a></li></ul></div></details></div><div class=post-content><h1 id=sponsorship>Sponsorship<a hidden class=anchor aria-hidden=true href=#sponsorship>#</a></h1><p><img loading=lazy src=https://theme.zdassets.com/theme_assets/9213162/bbfd0f7fc1d4da308ccaf71bbb963cee4c61f19c.png alt=Domestika></p><p>This project is done with the help of <a href=https://www.domestika.org/en/courses/2729-creative-coding-making-visuals-with-javascript><strong>Bruno Imbrizi&rsquo;s amazing course</strong></a>.</p><p>If you want to dive deeper into the world of creative coding, be sure to check out his courses on <strong>Domestika</strong>.</p><h1 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h1><figure><img loading=lazy src=/posts/legos/images/examples.png><figcaption>Creative Coding Examples</figcaption></figure><p>Apart from being a developer, I&rsquo;m also an graphic designer. The two fields don&rsquo;t make much sense together, but with the right combination, you can make something truly wonderful. And an esssence of such wonderfulness can be found in <strong>Creative Coding</strong>.</p><p>Today, I&rsquo;ll walk you through the process of making a work of art with <strong>Canvas-sketch</strong>, a Node.js library that utilizes HTML5 canvas to render artworks.</p><h1 id=brief-idea>Brief Idea<a hidden class=anchor aria-hidden=true href=#brief-idea>#</a></h1><p>Every project starts with an idea, and mine is inspired from various interpretation of <strong>Perlin Noise</strong> on the internet. Previously, I&rsquo;ve followed <strong>Matt Ross&rsquo;s work</strong> on <a href="https://www.youtube.com/watch?v=fu3Csj-NxyQ"><strong>LEGO Instacing in Touch Designer</strong></a>. And I&rsquo;m struck with the idea of implenting some what of his work on a website using simpler means.</p><figure><img loading=lazy src=/posts/legos/images/ben.webp alt="By Benjamin Rethore"><figcaption>Towers<p>By Benjamin Rethore</p></figcaption></figure><figure><img loading=lazy src=/posts/legos/images/Thumbnail.0.jpg alt="By Matt Ross"><figcaption>Lego Instancing in Touch Designer<p>By Matt Ross</p></figcaption></figure><figure><img loading=lazy src=/posts/legos/images/idea.PNG alt="By Pham Tuan Binh"><figcaption>Basic Idea<p>By Pham Tuan Binh</p></figcaption></figure><p>My idea is an illustration of a lego board, with every piece or stack of pieces represent their corresponding Perlin Noise coordinates and values. From the thumbnail of the article, you can somewhat imagine what our result will look like eventually.</p><figure><img loading=lazy src=/posts/legos/images/result.png alt="By Pham Tuan Binh"><figcaption>LEGO<p>By Pham Tuan Binh</p></figcaption></figure><h1 id=core-concepts>Core concepts<a hidden class=anchor aria-hidden=true href=#core-concepts>#</a></h1><p>My artwork is done with multiple tools. Some of which are more important than others, and I&rsquo;ve gathered the core concepts for you to grasp in this section. I will not walkthough the boilerplates and installation of these dependencies in this article, so be sure to <strong>read every link carefully</strong>.</p><h2 id=1-html5-canvas-and-javascript>1. HTML5 Canvas and Javascript<a hidden class=anchor aria-hidden=true href=#1-html5-canvas-and-javascript>#</a></h2><p><img loading=lazy src=https://www.freepnglogos.com/uploads/html5-logo-png/html5-logo-devextreme-multi-purpose-controls-html-javascript-3.png alt=HTML5></p><p>The fundamental of my workflow is <strong>HTML5 canvas</strong>. It is a tool that helps you draw on websites, and you should be able to find various information of it on the internet. Here is a wonderful explaination from <a href=https://www.w3schools.com/html/html5_canvas.asp><strong>W3</strong></a>.</p><p>To deal with <strong>canvas</strong>, you need to use <strong>Javascript</strong>, a programming language. If you are used to programming before, <a href=https://htmlcheatsheet.com/js/><strong>grasping the concept of JS is simple</strong></a>. In this project, we only use basic Javascript: <strong>for loops, let/const variable</strong>.</p><h2 id=2-nodejs-and-canvas-sketch>2. NodeJS and Canvas-sketch<a hidden class=anchor aria-hidden=true href=#2-nodejs-and-canvas-sketch>#</a></h2><p><img loading=lazy src=https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/1200px-Node.js_logo.svg.png alt=NodeJS></p><p>Normally, with <strong>HTML5 canvas</strong>, you would have to write a ton boiler-plate code and of course implement your own HTML, CSS and JS files. With <strong>Canvas-sketch</strong>, this process is easier and more streamlined. It is a wonderful tool made by <strong>Matt DesLauriers</strong>, a creative coder, and you can find more about it <a href=https://github.com/mattdesl/canvas-sketch><strong>here</strong></a>.</p><p>To use Canvas-sketch, you will <strong>NodeJS</strong>, which helps you run JS without the need of a browser (in simple terms). You can find how to install it <a href=https://nodejs.org/en/><strong>here</strong></a>.</p><h2 id=3-perlin-noise>3. Perlin Noise<a hidden class=anchor aria-hidden=true href=#3-perlin-noise>#</a></h2><p><img loading=lazy src=https://www.scratchapixel.com/images/noise-part-2/perlin-noise-terrain-mesh2.png? alt="Perlin Noise"></p><p><strong>Perlin noise</strong> is, you guess it right, random noise, but in a very special way. If you draw Perlin Noise on a 3D plane, adjacent values will be close to eachother, hence create a smooth feel to the terrain. This is the basics behine <strong>Minecraft</strong> terrain creation.</p><p>The <strong>Perlin noise</strong> in this project is used to generate <strong>more natural</strong> values for the heights and colors of LEGO pieces.</p><h1 id=execution>Execution<a hidden class=anchor aria-hidden=true href=#execution>#</a></h1><p>With every coding problem, the main workflow is to disect it into multiple smaller problems. Likewise, in art, before designing or drawing something, we also have to partition our work into multiple smaller tasks. The same applies in <strong>Creative Coding</strong>.</p><h2 id=1-constants>1. Constants<a hidden class=anchor aria-hidden=true href=#1-constants>#</a></h2><p>Before coding our project, we will set up the constants we use.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JS data-lang=JS><span class=line><span class=cl><span class=c1>// Canvas-sketch settings
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>settings</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>dimensions</span><span class=o>:</span> <span class=p>[</span><span class=mi>2048</span><span class=p>,</span> <span class=mi>2048</span><span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nx>animate</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>fps</span><span class=o>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>timeScale</span><span class=o>:</span> <span class=mf>0.8</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Color pallete, in luminance and saturation order
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>colors</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;#f1faee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;#a8dadc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;#457b9d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;#1d3557&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;#fcbf49&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;#f77f00&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;#e63946&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>brickHeight</span> <span class=o>=</span> <span class=mi>45</span><span class=p>;</span> <span class=c1>// Lego brick height
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>brickWidth</span> <span class=o>=</span> <span class=mi>90</span><span class=p>;</span> <span class=c1>// Lego brick width
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>maxHeight</span> <span class=o>=</span> <span class=nx>colors</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=c1>// Max height of a stack of Lego
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>freq</span> <span class=o>=</span> <span class=mf>0.09</span><span class=p>;</span> <span class=c1>// perlin noise frequency
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>matrixWidth</span> <span class=o>=</span> <span class=mi>12</span><span class=p>;</span> <span class=c1>// Matrix of Lego width
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>matrixHeight</span> <span class=o>=</span> <span class=mi>15</span><span class=p>;</span> <span class=c1>// Matrix of Lego height
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Canvas Prep (Operations explained in &#34;Drawing a shape&#34;)
</span></span></span><span class=line><span class=cl><span class=c1>// This is to color the background and set the default params of canvas operations
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>context</span><span class=p>.</span><span class=nx>strokeStyle</span> <span class=o>=</span> <span class=s2>&#34;black&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>context</span><span class=p>.</span><span class=nx>lineWidth</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>context</span><span class=p>.</span><span class=nx>fillStyle</span> <span class=o>=</span> <span class=s2>&#34;#f1faee&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>context</span><span class=p>.</span><span class=nx>beginPath</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>context</span><span class=p>.</span><span class=nx>rect</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>width</span><span class=p>,</span> <span class=nx>height</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>context</span><span class=p>.</span><span class=nx>fill</span><span class=p>();</span>
</span></span></code></pre></div><h2 id=2-drawing-a-shape>2. Drawing a shape<a hidden class=anchor aria-hidden=true href=#2-drawing-a-shape>#</a></h2><p>To draw our lego board and pieces, we will need to draw basic shapes, these include eclipses and rectangles. The process of drawing a simple shape can be described below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JS data-lang=JS><span class=line><span class=cl><span class=c1>// Getting the canvas object
</span></span></span><span class=line><span class=cl><span class=c1>// With traditional file
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>canvas</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s2>&#34;canvas&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>context</span> <span class=o>=</span> <span class=nx>canvas</span><span class=p>.</span><span class=nx>getContext</span><span class=p>(</span><span class=s2>&#34;2d&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// With Canvas-sketch
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>sketch</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>({</span> <span class=nx>context</span><span class=p>,</span> <span class=nx>width</span><span class=p>,</span> <span class=nx>height</span><span class=p>,</span> <span class=nx>time</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>canvasSketch</span><span class=p>(</span><span class=nx>sketch</span><span class=p>,</span> <span class=nx>settings</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Drawing a shape
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>context</span><span class=p>.</span><span class=nx>strokeStyle</span> <span class=o>=</span> <span class=s2>&#34;black&#34;</span><span class=p>;</span> <span class=c1>// stroke color
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>context</span><span class=p>.</span><span class=nx>lineWidth</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span> <span class=c1>// stroke width
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>context</span><span class=p>.</span><span class=nx>fillStyle</span> <span class=o>=</span> <span class=s2>&#34;#f1faee&#34;</span><span class=p>;</span> <span class=c1>// fill color
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// A rectangle with stroke
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>context</span><span class=p>.</span><span class=nx>beginPath</span><span class=p>();</span> <span class=c1>// begin drawing
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>context</span><span class=p>.</span><span class=nx>rect</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>width</span><span class=p>,</span> <span class=nx>height</span><span class=p>);</span> <span class=c1>// draw a rect path
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>context</span><span class=p>.</span><span class=nx>fill</span><span class=p>();</span> <span class=c1>// fill that path
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>context</span><span class=p>.</span><span class=nx>stroke</span><span class=p>();</span> <span class=c1>// draw a stroke along that path
</span></span></span></code></pre></div><h2 id=3-drawing-an-eclipse>3. Drawing an eclipse<a hidden class=anchor aria-hidden=true href=#3-drawing-an-eclipse>#</a></h2><p>To make our code easier to read, we should write different functions for individual shapes. The one below is for eclipses. Remember that <strong>x,y</strong> is the center of the eclipse.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JS data-lang=JS><span class=line><span class=cl><span class=c1>// The fill color and stroke style should be sustained from previous setup
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>drawEclipse</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>radiusX</span><span class=p>,</span> <span class=nx>radiusY</span><span class=p>,</span> <span class=nx>rotation</span><span class=p>,</span> <span class=nx>curve</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>beginPath</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>ellipse</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>radiusX</span><span class=p>,</span> <span class=nx>radiusY</span><span class=p>,</span> <span class=nx>rotation</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>curve</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>*</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>PI</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>fill</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>stroke</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// We also need to have an eclipse without a stroke, this will be explained later
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>function</span> <span class=nx>drawEclipseWithoutStroke</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>radiusX</span><span class=p>,</span> <span class=nx>radiusY</span><span class=p>,</span> <span class=nx>rotation</span><span class=p>,</span> <span class=nx>curve</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>beginPath</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>ellipse</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>radiusX</span><span class=p>,</span> <span class=nx>radiusY</span><span class=p>,</span> <span class=nx>rotation</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>curve</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>*</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>PI</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>fill</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=4-drawing-a-cylinder>4. Drawing a cylinder<a hidden class=anchor aria-hidden=true href=#4-drawing-a-cylinder>#</a></h2><p>To draw a cylinder, we need 3 eclipses and a rectangle.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JS data-lang=JS><span class=line><span class=cl><span class=kd>function</span> <span class=nx>drawCylinder</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>,</span> <span class=nx>offset</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// First, we draw the bottom eclipse
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>drawEclipse</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span> <span class=nx>offset</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Then we draw the overlay rectangle on top
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>context</span><span class=p>.</span><span class=nx>rect</span><span class=p>(</span><span class=nx>x</span> <span class=o>-</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span> <span class=nx>y</span> <span class=o>-</span> <span class=nx>h</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>fill</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>stroke</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Then we draw an eclipse to hide the stroke of that rectangle
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>drawEclipseWithoutStroke</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=nx>context</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>x</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>y</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>w</span> <span class=o>/</span> <span class=mi>2</span> <span class=o>-</span> <span class=nx>context</span><span class=p>.</span><span class=nx>lineWidth</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>offset</span> <span class=o>-</span> <span class=nx>context</span><span class=p>.</span><span class=nx>lineWidth</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Then we draw the top eclipse
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>drawEclipse</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=o>-</span> <span class=nx>h</span><span class=p>,</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span> <span class=nx>offset</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=5-drawing-a-lego-piece>5. Drawing a LEGO piece<a hidden class=anchor aria-hidden=true href=#5-drawing-a-lego-piece>#</a></h2><p>To draw a LEGO piece, we need 2 cylinder.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JS data-lang=JS><span class=line><span class=cl><span class=kd>function</span> <span class=nx>drawLego</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// The big one
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>drawCylinder</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>,</span> <span class=nx>h</span> <span class=o>/</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// The small one, or the snap part
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// The sizes are calculated through the process of randomizing values :))
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>drawCylinder</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=o>-</span> <span class=nx>h</span><span class=p>,</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span> <span class=nx>h</span> <span class=o>/</span> <span class=mi>3</span><span class=p>,</span> <span class=nx>h</span> <span class=o>/</span> <span class=mi>4</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=6-drawing-a-stack-of-lego-pieces>6. Drawing a stack of LEGO pieces<a hidden class=anchor aria-hidden=true href=#6-drawing-a-stack-of-lego-pieces>#</a></h2><p>To draw a stack of LEGO pieces, we only need to offset the next lego piece by the height of the previous one.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JS data-lang=JS><span class=line><span class=cl><span class=kd>function</span> <span class=nx>drawStackOfLego</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>,</span> <span class=nx>num</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>num</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// Select color in pallete
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>context</span><span class=p>.</span><span class=nx>fillStyle</span> <span class=o>=</span> <span class=nx>colors</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>// Draw lego in that color
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>drawLego</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=o>-</span> <span class=nx>h</span> <span class=o>*</span> <span class=nx>i</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=7-drawing-an-array-of-lego-stacks>7. Drawing an array of LEGO stacks<a hidden class=anchor aria-hidden=true href=#7-drawing-an-array-of-lego-stacks>#</a></h2><p>To draw an array of lego stacks, we need to have nested loops and offset the coordinates of our path according to the values of the loops.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JS data-lang=JS><span class=line><span class=cl><span class=c1>// Perlin noise lib
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>random</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;canvas-sketch-util/random&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>matrixHeight</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>j</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>j</span> <span class=o>&lt;</span> <span class=nx>matrixWidth</span><span class=p>;</span> <span class=nx>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// Like a lego board, we need to have spokes on every placement of the board
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>drawCylinder</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=nx>context</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>(</span><span class=nx>width</span> <span class=o>/</span> <span class=nx>matrixWidth</span><span class=p>)</span> <span class=o>*</span> <span class=nx>j</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>brickHeight</span> <span class=o>+</span> <span class=p>(</span><span class=nx>height</span> <span class=o>/</span> <span class=nx>matrixHeight</span><span class=p>)</span> <span class=o>*</span> <span class=nx>i</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>brickWidth</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>brickHeight</span> <span class=o>/</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>brickHeight</span> <span class=o>/</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>            <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>matrixHeight</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>j</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>j</span> <span class=o>&lt;</span> <span class=nx>matrixWidth</span><span class=p>;</span> <span class=nx>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// This is where we draw the stacks of lego
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>// Val is the perlin noise value (0,1)
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=kd>let</span> <span class=nx>val</span> <span class=o>=</span> <span class=nx>random</span><span class=p>.</span><span class=nx>noise3D</span><span class=p>(</span><span class=nx>j</span><span class=p>,</span> <span class=nx>i</span><span class=p>,</span> <span class=nx>time</span><span class=p>,</span> <span class=nx>freq</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>// For the stack num, we interpolate val range to maxHeight range
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>// Other params are constants which we have already set
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=nx>drawStackOfLego</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=nx>context</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>(</span><span class=nx>width</span> <span class=o>/</span> <span class=nx>matrixWidth</span><span class=p>)</span> <span class=o>*</span> <span class=nx>j</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>brickHeight</span> <span class=o>+</span> <span class=p>(</span><span class=nx>height</span> <span class=o>/</span> <span class=nx>matrixHeight</span><span class=p>)</span> <span class=o>*</span> <span class=nx>i</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>brickWidth</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nx>brickHeight</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nb>Math</span><span class=p>.</span><span class=nx>ceil</span><span class=p>(</span><span class=nx>val</span> <span class=o>*</span> <span class=nx>maxHeight</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=demonstration>Demonstration<a hidden class=anchor aria-hidden=true href=#demonstration>#</a></h1><p>You can run the artwork on your own browser <a href=/lego><strong>on this website</strong></a>.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden;margin-bottom:20px><iframe src=https://player.vimeo.com/video/787563351 style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div><p>The sketch code can be found below:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JS data-lang=JS><span class=line><span class=cl><span class=kr>const</span> <span class=nx>canvasSketch</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;canvas-sketch&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>random</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;canvas-sketch-util/random&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>math</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;canvas-sketch-util/math&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>settings</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>dimensions</span><span class=o>:</span> <span class=p>[</span><span class=mi>2048</span><span class=p>,</span> <span class=mi>2048</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nx>animate</span><span class=o>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>fps</span><span class=o>:</span> <span class=mi>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>timeScale</span><span class=o>:</span> <span class=mf>0.8</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>colors</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;#f1faee&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;#a8dadc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;#457b9d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;#1d3557&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;#fcbf49&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;#f77f00&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;#e63946&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>drawEclipse</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>radiusX</span><span class=p>,</span> <span class=nx>radiusY</span><span class=p>,</span> <span class=nx>rotation</span><span class=p>,</span> <span class=nx>curve</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>context</span><span class=p>.</span><span class=nx>beginPath</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>context</span><span class=p>.</span><span class=nx>ellipse</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>radiusX</span><span class=p>,</span> <span class=nx>radiusY</span><span class=p>,</span> <span class=nx>rotation</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>curve</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>*</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>PI</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>context</span><span class=p>.</span><span class=nx>fill</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>context</span><span class=p>.</span><span class=nx>stroke</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>drawEclipseWithoutStroke</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=nx>context</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>x</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>y</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>radiusX</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>radiusY</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>rotation</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>curve</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>context</span><span class=p>.</span><span class=nx>beginPath</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>context</span><span class=p>.</span><span class=nx>ellipse</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>radiusX</span><span class=p>,</span> <span class=nx>radiusY</span><span class=p>,</span> <span class=nx>rotation</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>curve</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>*</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>PI</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>context</span><span class=p>.</span><span class=nx>fill</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>drawCylinder</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>,</span> <span class=nx>offset</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>drawEclipse</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span> <span class=nx>offset</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>context</span><span class=p>.</span><span class=nx>rect</span><span class=p>(</span><span class=nx>x</span> <span class=o>-</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span> <span class=nx>y</span> <span class=o>-</span> <span class=nx>h</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>context</span><span class=p>.</span><span class=nx>fill</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>context</span><span class=p>.</span><span class=nx>stroke</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=nx>drawEclipseWithoutStroke</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>x</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>y</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>w</span> <span class=o>/</span> <span class=mi>2</span> <span class=o>-</span> <span class=nx>context</span><span class=p>.</span><span class=nx>lineWidth</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>offset</span> <span class=o>-</span> <span class=nx>context</span><span class=p>.</span><span class=nx>lineWidth</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=mi>1</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>drawEclipse</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=o>-</span> <span class=nx>h</span><span class=p>,</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span> <span class=nx>offset</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>drawLego</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>drawCylinder</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>,</span> <span class=nx>h</span> <span class=o>/</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>drawCylinder</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=o>-</span> <span class=nx>h</span><span class=p>,</span> <span class=nx>w</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span> <span class=nx>h</span> <span class=o>/</span> <span class=mi>3</span><span class=p>,</span> <span class=nx>h</span> <span class=o>/</span> <span class=mi>4</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>drawStackOfLego</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>,</span> <span class=nx>num</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>num</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>fillStyle</span> <span class=o>=</span> <span class=nx>colors</span><span class=p>[</span><span class=nx>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=nx>drawLego</span><span class=p>(</span><span class=nx>context</span><span class=p>,</span> <span class=nx>x</span><span class=p>,</span> <span class=nx>y</span> <span class=o>-</span> <span class=nx>h</span> <span class=o>*</span> <span class=nx>i</span><span class=p>,</span> <span class=nx>w</span><span class=p>,</span> <span class=nx>h</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>sketch</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>({</span> <span class=nx>context</span><span class=p>,</span> <span class=nx>width</span><span class=p>,</span> <span class=nx>height</span><span class=p>,</span> <span class=nx>time</span> <span class=p>})</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>brickHeight</span> <span class=o>=</span> <span class=mi>45</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>brickWidth</span> <span class=o>=</span> <span class=mi>90</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>maxHeight</span> <span class=o>=</span> <span class=nx>colors</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>freq</span> <span class=o>=</span> <span class=mf>0.09</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>matrixWidth</span> <span class=o>=</span> <span class=mi>12</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>matrixHeight</span> <span class=o>=</span> <span class=mi>15</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>strokeStyle</span> <span class=o>=</span> <span class=s2>&#34;black&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>lineWidth</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>fillStyle</span> <span class=o>=</span> <span class=s2>&#34;#f1faee&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>beginPath</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>rect</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>width</span><span class=p>,</span> <span class=nx>height</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>context</span><span class=p>.</span><span class=nx>fill</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>matrixHeight</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>j</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>j</span> <span class=o>&lt;</span> <span class=nx>matrixWidth</span><span class=p>;</span> <span class=nx>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>drawCylinder</span><span class=p>(</span>
</span></span><span class=line><span class=cl>          <span class=nx>context</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nx>width</span> <span class=o>/</span> <span class=nx>matrixWidth</span><span class=p>)</span> <span class=o>*</span> <span class=nx>j</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>brickHeight</span> <span class=o>+</span> <span class=p>(</span><span class=nx>height</span> <span class=o>/</span> <span class=nx>matrixHeight</span><span class=p>)</span> <span class=o>*</span> <span class=nx>i</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>brickWidth</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>brickHeight</span> <span class=o>/</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>brickHeight</span> <span class=o>/</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>        <span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>matrixHeight</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>j</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>j</span> <span class=o>&lt;</span> <span class=nx>matrixWidth</span><span class=p>;</span> <span class=nx>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>val</span> <span class=o>=</span> <span class=nx>random</span><span class=p>.</span><span class=nx>noise3D</span><span class=p>(</span><span class=nx>j</span><span class=p>,</span> <span class=nx>i</span><span class=p>,</span> <span class=nx>time</span><span class=p>,</span> <span class=nx>freq</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nx>drawStackOfLego</span><span class=p>(</span>
</span></span><span class=line><span class=cl>          <span class=nx>context</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nx>width</span> <span class=o>/</span> <span class=nx>matrixWidth</span><span class=p>)</span> <span class=o>*</span> <span class=nx>j</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>brickHeight</span> <span class=o>+</span> <span class=p>(</span><span class=nx>height</span> <span class=o>/</span> <span class=nx>matrixHeight</span><span class=p>)</span> <span class=o>*</span> <span class=nx>i</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>brickWidth</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nx>brickHeight</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nb>Math</span><span class=p>.</span><span class=nx>ceil</span><span class=p>(</span><span class=nx>val</span> <span class=o>*</span> <span class=nx>maxHeight</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>canvasSketch</span><span class=p>(</span><span class=nx>sketch</span><span class=p>,</span> <span class=nx>settings</span><span class=p>);</span>
</span></span></code></pre></div><h1 id=endnote>Endnote<a hidden class=anchor aria-hidden=true href=#endnote>#</a></h1><p><img loading=lazy src=images/banner.png alt=Banner></p><p><strong>Creative Coding</strong> is an amazing field, if you are a graphic designer and you have the time, be sure to check out the wonders of it.</p><p>For creative coders and learners, feel free to modify my artwork. With minor modifications, you can create totally different variations of it.</p><p>Thank you for reading <strong>Binh&rsquo;s Archive</strong>.</p><h1>Thank you for reading</h1><div style="width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;border-radius:var(--radius);box-sizing:border-box;color:var(--primary)"><p>If you like this post and would like to see more in the future, I just created this <b>cool and neat newsletter</b> for my website.</p><p>Psst... I guarantee it's <b>very infrequent and full of quality articles</b>, just like the article you just read.</p><p><a style="padding:0 14px;line-height:34px;margin:8px 0;display:inline-block;text-decoration:none;border:1px solid var(--border);border-radius:var(--radius);background-color:var(--code-bg);box-sizing:border-box;box-shadow:none;color:var(--primary)" target=_blank rel=noopener href=http://eepurl.com/iniMlk>Click here to subscribe ðŸ’Œ</a></p></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.binhph.am/tags/design/>Design</a></li><li><a href=https://blog.binhph.am/tags/creative-coding/>Creative Coding</a></li></ul><nav class=paginav><a class=prev href=https://blog.binhph.am/posts/square/><span class=title>Â« Prev Page</span><br><span>Square(): Creative Coding</span></a>
<a class=next href=https://blog.binhph.am/posts/365days/><span class=title>Next Page Â»</span><br><span>"365 Days" Photo Album</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share LEGO: Creative Coding on twitter" href="https://twitter.com/intent/tweet/?text=LEGO%3a%20Creative%20Coding&amp;url=https%3a%2f%2fblog.binhph.am%2fposts%2flegos%2f&amp;hashtags=Design%2cCreativeCoding"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share LEGO: Creative Coding on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.binhph.am%2fposts%2flegos%2f&amp;title=LEGO%3a%20Creative%20Coding&amp;summary=LEGO%3a%20Creative%20Coding&amp;source=https%3a%2f%2fblog.binhph.am%2fposts%2flegos%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share LEGO: Creative Coding on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.binhph.am%2fposts%2flegos%2f&title=LEGO%3a%20Creative%20Coding"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share LEGO: Creative Coding on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.binhph.am%2fposts%2flegos%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share LEGO: Creative Coding on whatsapp" href="https://api.whatsapp.com/send?text=LEGO%3a%20Creative%20Coding%20-%20https%3a%2f%2fblog.binhph.am%2fposts%2flegos%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share LEGO: Creative Coding on telegram" href="https://telegram.me/share/url?text=LEGO%3a%20Creative%20Coding&amp;url=https%3a%2f%2fblog.binhph.am%2fposts%2flegos%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><img src=/vaselogo.png width=75px style=margin:auto>
<span>&copy; 2024 <a href=https://blog.binhph.am>Binh's Archive</a></span></footer><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>let sun=document.getElementById("sun"),to_moon_1=document.getElementById("to-moon-1"),to_moon_2=document.getElementById("to-moon-2"),to_moon_3=document.getElementById("to-moon-3"),to_moon_4=document.getElementById("to-moon-4"),to_sun_1=document.getElementById("to-sun-1"),to_sun_2=document.getElementById("to-sun-2"),to_sun_3=document.getElementById("to-sun-3"),to_sun_4=document.getElementById("to-sun-4"),moon=document.getElementById("moon"),intervalTime=90;to_moon_1.style.display="none",to_moon_2.style.display="none",to_moon_3.style.display="none",to_moon_4.style.display="none",to_sun_1.style.display="none",to_sun_2.style.display="none",to_sun_3.style.display="none",to_sun_4.style.display="none",document.body.className.includes("dark")?sun.style.display="none":moon.style.display="none";function toggleHidden(e){e.style.display==="none"?e.style.display="block":e.style.display="none"}document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),setTimeout(toggleHidden,intervalTime,moon),setTimeout(toggleHidden,intervalTime*2,to_moon_1),setTimeout(toggleHidden,intervalTime*3,to_moon_1),setTimeout(toggleHidden,intervalTime*3,to_moon_2),setTimeout(toggleHidden,intervalTime*4,to_moon_2),setTimeout(toggleHidden,intervalTime*4,to_moon_3),setTimeout(toggleHidden,intervalTime*5,to_moon_3),setTimeout(toggleHidden,intervalTime*5,to_moon_4),setTimeout(toggleHidden,intervalTime*6,to_moon_4),setTimeout(toggleHidden,intervalTime*6,sun),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),setTimeout(toggleHidden,45,sun),setTimeout(toggleHidden,intervalTime*2,to_sun_1),setTimeout(toggleHidden,intervalTime*3,to_sun_1),setTimeout(toggleHidden,intervalTime*3,to_sun_2),setTimeout(toggleHidden,intervalTime*4,to_sun_2),setTimeout(toggleHidden,intervalTime*4,to_sun_3),setTimeout(toggleHidden,intervalTime*5,to_sun_3),setTimeout(toggleHidden,intervalTime*5,to_sun_4),setTimeout(toggleHidden,intervalTime*6,to_sun_4),setTimeout(toggleHidden,intervalTime*6,moon),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script type=text/javascript src=/js/carousel.js></script>
<link rel=stylesheet href=/css/carousel.css></body></html>